
\usepackage{booktabs}
\usepackage{amsthm}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother


%%% to allow custom headings
\usepackage{titlesec}
% to change titles font family
\usepackage{titling}


%%% declare fonts and set some formats
% fontspec to use non-latex with xetex
\usepackage{xunicode}
\usepackage{fontspec}
\usepackage{xltxtra}

\usepackage[T1]{fontenc}
\usepackage{Alegreya} %% Option 'black' gives heavier bold face 
\renewcommand*\oldstylenums[1]{{\AlegreyaOsF #1}}

\usepackage{xeCJK}  
\setCJKmainfont{NanumMyeongjo}
\setCJKsansfont{Noto Sans CJK KR}
\setCJKmonofont{Noto Sans Mono CJK KR}

\setmainfont{Alegreya}
\setsansfont[Ligatures=TeX]{Alegreya Sans}

% \usepackage{setspace}
% \onehalfspacing

% font declaration and title settings
\newfontfamily\headingfont[]{Alegreya SC}
\newfontfamily\sectionfont[]{Alegreya}
\titleformat{\chapter}[display]
  {\huge\headingfont}{\chaptertitlename\ \thechapter}{20pt}{\Large}
\titleformat*{\section}{\large\sectionfont}
\titleformat*{\subsection}{\normalsize\sectionfont}
\titleformat*{\subsubsection}{\normalsize\sectionfont}
\renewcommand{\maketitlehooka}{\headingfont}

% Define page style
\usepackage{fancyhdr}
\fancypagestyle{myheader}{%
    \fancyhf{} % Clear header and footer
    \fancyhead{}
    \renewcommand{\headrulewidth}{0.2pt} % Header rule
    \renewcommand{\footrulewidth}{0pt} % Footer rule
    \fancyhead[RO, LE]{\thepage}

    % Chapter title on the left of even pages
    \fancyhead[LE]{\textbf{\thepage}\qquad\small\textit{\nouppercase{\leftmark}}}
    % Section title on the right of odd pages
    \fancyhead[RO]{\small\textit{\nouppercase{\rightmark}}\qquad\textbf{\thepage}}

}

% Apply page style to the document
\pagestyle{myheader}

\raggedbottom

\makeatletter
\long\def\@makefntext#1{%
  \parindent 1em\noindent\hb@xt@ 1em{\hss\@makefnmark}~~#1%
}
\makeatother
